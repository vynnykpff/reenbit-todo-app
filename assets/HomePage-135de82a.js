import{T as M,a as w,G as u,r as i,b as Y,j as t,B as g,c as L,u as O,d as p,R as A,e as Z,m as W,f as K,s as z,g as _,h as I,I as B,i as q,k as D,l as E,N as y,n as X,v as V,o as J,p as Q,q as tt,t as k,w as T,x as et,y as ot,z as st,A as at,C as b,D as nt,E as rt,F as R,H as ct,J as N,L as dt}from"./index-728402e9.js";import{a as it}from"./api-b792dd98.js";var F=(e=>(e.TODOS="/todos",e))(F||{});class lt{static async getTodos(s){return(await it.get(F.TODOS,{headers:{Authorization:`Bearer ${s}`}})).data}}function ht(e){return async function(s){try{s({type:M.TODO_PENDING});const o=await lt.getTodos(e);s({type:M.TODO_SUCCESS,payload:o.todos})}catch{s({type:w.RESET_TODOS})}}}function ut(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20.742 13.045a8.088 8.088 0 0 1-2.077.271c-2.135 0-4.14-.83-5.646-2.336a8.025 8.025 0 0 1-2.064-7.723A1 1 0 0 0 9.73 2.034a10.014 10.014 0 0 0-4.489 2.582c-3.898 3.898-3.898 10.243 0 14.143a9.937 9.937 0 0 0 7.072 2.93 9.93 9.93 0 0 0 7.07-2.929 10.007 10.007 0 0 0 2.583-4.491 1.001 1.001 0 0 0-1.224-1.224zm-2.772 4.301a7.947 7.947 0 0 1-5.656 2.343 7.953 7.953 0 0 1-5.658-2.344c-3.118-3.119-3.118-8.195 0-11.314a7.923 7.923 0 0 1 2.06-1.483 10.027 10.027 0 0 0 2.89 7.848 9.972 9.972 0 0 0 7.848 2.891 8.036 8.036 0 0 1-1.484 2.059z"}}]})(e)}function Tt(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M6.993 12c0 2.761 2.246 5.007 5.007 5.007s5.007-2.246 5.007-5.007S14.761 6.993 12 6.993 6.993 9.239 6.993 12zM12 8.993c1.658 0 3.007 1.349 3.007 3.007S13.658 15.007 12 15.007 8.993 13.658 8.993 12 10.342 8.993 12 8.993zM10.998 19h2v3h-2zm0-17h2v3h-2zm-9 9h3v2h-3zm17 0h3v2h-3zM4.219 18.363l2.12-2.122 1.415 1.414-2.12 2.122zM16.24 6.344l2.122-2.122 1.414 1.414-2.122 2.122zM6.342 7.759 4.22 5.637l1.415-1.414 2.12 2.122zm13.434 10.605-1.414 1.414-2.122-2.122 1.414-1.414z"}}]})(e)}function mt(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5 20a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V8h2V6h-4V4a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v2H3v2h2zM9 4h6v2H9zM8 8h9v12H7V8z"}},{tag:"path",attr:{d:"M9 10h2v8H9zm4 0h2v8h-2z"}}]})(e)}const pt="_switchThemeButton_1qxg7_1",Ct={switchThemeButton:pt},_t=()=>{const{type:e,setType:s}=i.useContext(Y);return t.jsx(g,{className:Ct.switchThemeButton,onClick:()=>s(o=>o===L.LIGHT?L.DARK:L.LIGHT),children:e===L.LIGHT?t.jsx(ut,{}):t.jsx(Tt,{})})},xt=""+new URL("logo-c9d4e892.svg",import.meta.url).href,gt="_headerContainer_1wjp0_1",ft="_headerTitle_1wjp0_10",Lt="_headerContent_1wjp0_10",jt="_headerNavigationContainer_1wjp0_20",vt="_logoutButton_1wjp0_27",m={headerContainer:gt,headerTitle:ft,headerContent:Lt,headerNavigationContainer:jt,logoutButton:vt},Nt=()=>{const e=O(),s=p(),o=()=>{localStorage.removeItem("access-token"),s({type:w.RESET_TODOS}),e(A.LOGIN)};return t.jsxs("header",{className:m.headerContainer,children:[t.jsx("img",{className:m.headerLogo,src:xt,alt:"logo image"}),t.jsxs("h1",{className:m.headerTitle,children:[t.jsx("span",{className:m.headerContent,children:"to"}),t.jsx("span",{className:m.headerContent,children:"do"})]}),t.jsxs("div",{className:m.headerNavigationContainer,children:[t.jsx(g,{className:m.logoutButton,onClick:o,children:"Logout"}),t.jsx(_t,{})]})]})},It=e=>{const s=Z.HOURS_IN_DAY*W*K,o=new Date(e.getTime()+s);return z(o)};function Dt(e){return u({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M2 8a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11A.5.5 0 0 1 2 8Z"}}]})(e)}function Et(e){return u({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2Z"}}]})(e)}const yt="_createTodoContainer_128yt_1",St="_createTodoInput_128yt_15",Bt="_createTodoButton_128yt_28",Mt="_createTodoButtonTitle_128yt_46",j={createTodoContainer:yt,createTodoInput:St,createTodoButton:Bt,createTodoButtonTitle:Mt},kt="Enter",Ht=()=>{const{title:e}=_(r=>r.todoReducer),s=p(),o=r=>{s(tt(r))},c=I("createTodoModal")[1],n=r=>{if(r.code===kt)return e.trim().length?(s(X({createdDate:z(new Date),expirationDate:It(new Date),title:e,isCompleted:!1,_id:V()})),o("")):s(D({title:E.EMPTY_TITLE,type:y.ERROR}))},d=r=>{const l=r.target.value;if(l.trim().length>=J.MAX_TITLE_LENGTH)return s(D({title:E.MAX_LENGTH,type:y.ERROR})),o(e.replace(l,""));o(Q(l))};return t.jsxs("div",{className:j.createTodoContainer,children:[t.jsx(B,{onKeyDown:n,onChange:d,value:e,className:j.createTodoInput,placeholder:"Enter new todo"}),t.jsx(g,{onClick:()=>c(!0),type:q.BUTTON,className:j.createTodoButton,children:t.jsxs("span",{className:j.createTodoButtonTitle,children:[t.jsx("span",{children:"Create"}),t.jsx(Et,{})]})})]})},wt=500;function Ot(e,s=wt){const[o,c]=i.useState(e);return i.useEffect(()=>{const n=setTimeout(()=>c(e),s);return()=>{clearTimeout(n)}},[e]),o}function At(e){return u({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M278.6 256l68.2-68.2c6.2-6.2 6.2-16.4 0-22.6-6.2-6.2-16.4-6.2-22.6 0L256 233.4l-68.2-68.2c-6.2-6.2-16.4-6.2-22.6 0-3.1 3.1-4.7 7.2-4.7 11.3 0 4.1 1.6 8.2 4.7 11.3l68.2 68.2-68.2 68.2c-3.1 3.1-4.7 7.2-4.7 11.3 0 4.1 1.6 8.2 4.7 11.3 6.2 6.2 16.4 6.2 22.6 0l68.2-68.2 68.2 68.2c6.2 6.2 16.4 6.2 22.6 0 6.2-6.2 6.2-16.4 0-22.6L278.6 256z"}}]})(e)}const zt="_searchTodoContainer_up0lw_1",Vt="_searchClearIcon_up0lw_4",bt="_searchClearIconDisabled_up0lw_17",Rt="_searchTodoInput_up0lw_21",v={searchTodoContainer:zt,searchClearIcon:Vt,searchClearIconDisabled:bt,searchTodoInput:Rt},Ft=()=>{const[e,s]=i.useState(""),{filterValue:o,searchValue:c}=_(x=>x.todoReducer),n=Ot(e,500),d=p();i.useEffect(()=>{e.length&&!c.length&&s("")},[o,c]),i.useEffect(()=>{d(k(e))},[n]);const r=x=>{s(x.target.value)},l=()=>{c.length&&d(k(""))};return t.jsxs("span",{className:v.searchTodoContainer,children:[t.jsx(At,{onClick:l,className:T(v.searchClearIcon,!c.length&&v.searchClearIconDisabled)}),t.jsx(B,{value:e,onChange:r,className:v.searchTodoInput,placeholder:"Enter to search for your todos"})]})},Gt=e=>et(new Date,ot(e));function Pt(e){return u({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attr:{d:"M464 336a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]})(e)}function $t(e){return u({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"}}]})(e)}const Ut="_todoContainer_sr1mp_1",Yt="_todoContent_sr1mp_16",Zt="_todoCheck_sr1mp_20",Wt="_todoInput_sr1mp_25",Kt="_todoCheckbox_sr1mp_29",qt="_todoTitle_sr1mp_38",Xt="_todoCompleted_sr1mp_46",Jt="_todoDateContainer_sr1mp_51",Qt="_todoDateContent_sr1mp_57",te="_todoIcon_sr1mp_62",ee="_infoIcon_sr1mp_71",oe="_trashIcon_sr1mp_78",se="_editIcon_sr1mp_85",ae="_disabledEditIcon_sr1mp_92",ne="_expiredTodoContainer_sr1mp_97",a={todoContainer:Ut,todoContent:Yt,todoCheck:Zt,todoInput:Wt,todoCheckbox:Kt,todoTitle:qt,todoCompleted:Xt,todoDateContainer:Jt,todoDateContent:Qt,todoIcon:te,infoIcon:ee,trashIcon:oe,editIcon:se,disabledEditIcon:ae,expiredTodoContainer:ne},re=({title:e,createdDate:s,expirationDate:o,_id:c,isCompleted:n})=>{const[d,r]=i.useState(!1),l=I("editTodoModal")[1],x=I("confirmModal")[1],f=p(),G=()=>{f(st(c))},P=()=>{x(!0,{confirmCallback:()=>{f(at(c)),f(D({title:E.DELETE_TODO,type:y.SUCCESS}))},message:b.DELETE_TODO})},$=()=>{n||(l(!0),f(nt({_id:c,title:e,expirationDate:o,createdDate:s,isCompleted:n})))};return t.jsxs("li",{className:T(a.todoContainer,!Gt(o)&&a.expiredTodoContainer),children:[t.jsxs("div",{children:[t.jsxs("div",{className:a.todoContent,children:[t.jsxs("label",{className:a.todoCheck,children:[t.jsx(B,{className:a.todoInput,type:"checkbox",checked:n,onChange:G}),t.jsx("span",{className:a.todoCheckbox})]}),t.jsx("p",{className:T(a.todoTitle,n&&a.todoCompleted),children:e})]}),d&&t.jsxs("ul",{className:a.todoDateContainer,children:[t.jsx("li",{className:a.todoDateContent,children:s}),t.jsx(Dt,{className:a.todoDateContent}),t.jsxs("li",{className:a.todoDateContent,children:[" ",o]})]})]}),t.jsx($t,{className:T(a.todoIcon,a.editIcon,n&&a.disabledEditIcon),onClick:$}),t.jsx(mt,{className:T(a.todoIcon,a.trashIcon),onClick:P}),t.jsx(Pt,{className:T(a.todoIcon,a.infoIcon),onClick:()=>r(U=>!U)})]})},ce="_filteredTodoContainer_1rtzp_1",de="_filteredTodoButton_1rtzp_19",S={filteredTodoContainer:ce,filteredTodoButton:de},ie=()=>{const{filterValue:e}=_(o=>o.todoReducer),s=p();return t.jsx("div",{className:S.filteredTodoContainer,children:rt.map(o=>t.jsx(g,{disabled:e===o,className:S.filteredTodoButton,onClick:()=>s(R(o)),children:o},V()))})},le="_todoListHeader_tcd4m_1",he="_todoListHeaderWrapper_tcd4m_12",ue="_todoListTitle_tcd4m_24",Te="_todoListCounter_tcd4m_46",me="_clearCompletedTodosButton_tcd4m_54",pe="_completedTodosTitle_tcd4m_58",h={todoListHeader:le,todoListHeaderWrapper:he,todoListTitle:ue,todoListCounter:Te,clearCompletedTodosButton:me,completedTodosTitle:pe},Ce=()=>{const{originalTodos:e}=_(r=>r.todoReducer),[s,o]=i.useState(0),c=I("confirmModal")[1],n=p();i.useEffect(()=>{const r=e.filter(l=>l.isCompleted);o(r.length)},[e]);const d=()=>{c(!0,{confirmCallback:()=>{n(D({title:E.DELETE_COMPLETED_TODOS,type:y.SUCCESS})),n(ct()),n(R(N.ALL))},message:b.DELETE_COMPLETED_TODOS})};return t.jsxs("div",{className:h.todoListHeader,children:[t.jsxs("div",{className:h.todoListHeaderWrapper,children:[t.jsxs("div",{className:h.todoListContentContainer,children:[t.jsxs("p",{className:h.todoListTitle,children:["Tasks created",t.jsx("span",{className:h.todoListCounter,children:e.length})]}),t.jsxs("p",{className:T(h.todoListTitle,h.completedTodosTitle),children:["Completed",t.jsxs("span",{className:h.todoListCounter,children:[s," of ",e.length]})]})]}),t.jsx(g,{disabled:!e.filter(r=>r.isCompleted).length,onClick:d,className:T(S.filteredTodoButton,h.clearCompletedTodosButton),children:"Clear Completed"})]}),t.jsx(ie,{})]})};function _e(e){return u({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M168,152a8,8,0,0,1-8,8H96a8,8,0,0,1,0-16h64A8,8,0,0,1,168,152Zm-8-40H96a8,8,0,0,0,0,16h64a8,8,0,0,0,0-16Zm56-64V216a16,16,0,0,1-16,16H56a16,16,0,0,1-16-16V48A16,16,0,0,1,56,32H92.26a47.92,47.92,0,0,1,71.48,0H200A16,16,0,0,1,216,48ZM96,64h64a32,32,0,0,0-64,0ZM200,48H173.25A47.93,47.93,0,0,1,176,64v8a8,8,0,0,1-8,8H88a8,8,0,0,1-8-8V64a47.93,47.93,0,0,1,2.75-16H56V216H200Z"}}]})(e)}const xe="_todoListNoDataContainer_1a1ig_1",ge="_todoListText_1a1ig_14",C={todoListNoDataContainer:xe,todoListText:ge},fe=({title:e})=>{const{searchValue:s}=_(o=>o.todoReducer);return t.jsx("div",{className:C.todoListNoDataContainer,children:t.jsxs("div",{children:[t.jsx(_e,{}),e===N.ALL&&t.jsxs(t.Fragment,{children:[t.jsx("p",{className:C.todoListText,children:"You don't have any tasks registered yet"}),t.jsx("p",{className:C.todoListText,children:"Create tasks and organize your to-do items"})]}),e===N.ACTIVE&&t.jsx("p",{className:C.todoListText,children:"You don't have any active tasks registered yet"}),e===N.COMPLETED&&t.jsx("p",{className:C.todoListText,children:"You don't have any completed tasks registered yet"}),!!s.length&&t.jsx("p",{className:C.todoListText,children:e})]})})},Le="_todoListSection_1656h_1",H={todoListSection:Le},je=()=>{const{searchedTodos:e,filterValue:s,searchValue:o,isPending:c}=_(d=>d.todoReducer),n=()=>o.length?`Nothing found in the filter: ${s}`:s;return t.jsxs("section",{className:H.todoListSection,children:[t.jsx(Ce,{}),c?t.jsx(dt,{}):t.jsx("ul",{className:H.todoListContainer,children:e.length?e.map(d=>t.jsx(re,{...d},d._id)):t.jsx(fe,{title:n()})})]})},ve="_todoLayoutContainer_135o9_1",Ne={todoLayoutContainer:ve},Ie=()=>t.jsxs("main",{className:Ne.todoLayoutContainer,children:[t.jsx(Ht,{}),t.jsx(Ft,{}),t.jsx(je,{})]}),ye=()=>{const e=O(),s=p(),o=localStorage.getItem("access-token");return i.useEffect(()=>{if(!o){e(A.LOGIN);return}s(ht(o))},[]),o?t.jsxs(t.Fragment,{children:[t.jsx(Nt,{}),t.jsx(Ie,{})]}):null};export{ye as default};
